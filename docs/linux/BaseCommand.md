# 基础指令

这里主要介绍以下 Linux 系统常用的基本指令

## ls 指令

打印指定目录下的文件及子目录，如果不指定目录，则默认当前目录

**语法**
```shell
ls -alh [name...]
```
![ls 指令](/blogs/images/linux/ls.png)

**参数说明**
- a 显示所有文件及目录(包括隐藏文件)。
- h 以容易理解的格式列出文件大小(1K、1M、1G)。
- l 除了文件名之外，还将文件的权限、所有者、文件大小等信息详细列出来。

## pwd 指令

查看当前工作目录的完整路径

**语法**
```shell
pwd
```
![pwd 指令](/blogs/images/linux/pwd.png)

**参数说明**
- L 目录连接链接时，输出连接路径-P 输出物理路径
- P 输出物理路径

## cd 指令

切换当前目录至指定目录

**语法**
```shell
cd [dirName]
```
![pwd 指令](/blogs/images/linux/cd.png)

**使用示例**
```shell
cd - # 切换到上一次的目录

cd ~ # 返回到用户的家目录，管理员是 /root/， 普通用户是 /home/[用户名]/

cd ../xxx # 返回到当前目录的父目录下的 xxx (相对地址)

cd /xxx # 返回根目录下的 xxx (绝对地址)
```

## mkdir 指令

用来创建目录

**语法**
```shell
mkdir (选项)(参数)
```
![mkdir 指令](/blogs/images/linux/mkdir.png)

**参数说明**
- p 确保目录名称存在，不存在的就建一个(创建多层级目录)。

## touch 指令

用于修改文件或者目录的时间属性，包括存取时间和更改时间。若文件不存在，系统会建立一个新的文件。

**语法**
```shell
touch [-acfm][-d<日期时间>][-r<参考文件或目录>] [-t<日期时间>][--help][--version][文件或目录…]
```
![touch 指令](/blogs/images/linux/touch.png)

**参数说明**
- a：或--time=atime或--time=access或--time=use  只更改存取时间。
- c：或--no-create  不建立任何文件。
- d：<时间日期> 使用指定的日期时间，而非现在的时间。
- f：此参数将忽略不予处理，仅负责解决BSD版本touch指令的兼容性问题。
- m：或--time=mtime或--time=modify  只更该变动时间。
- r：<参考文件或目录>  把指定文件或目录的日期时间，统统设成和参考文件或目录的日期时间相同。
- t：<日期时间>  使用指定的日期时间，而非现在的时间。

## cp 指令

用来将一个或多个源文件或者目录复制到指定的目的文件或目录。它可以将单个源文件复制成一个指定文件名的具体的文件或一个已经存在的目录下。cp命令还支持同时复制多个文件，当一次复制多个文件时，目标文件参数必须是一个已经存在的目录，否则将出现错误。

**语法**
```shell
cp (选项) (参数)
```

**参数说明**
- R/r：递归处理，将指定目录下的所有文件与子目录一并处理。
- i：覆盖既有文件之前先询问用户。

**使用示例**
```shell
cp ../test.txt . # 将上层目录下的 test.txt 复制到当前目录下

cp file /usr/file1 # 将当前的 file 文件复制到 /usr 下，并命名为file1

cp -r /usr/men /usr/zh # 将目录 /usr/men 下的所有文件及其子目录复制到目录 /usr/zh 中

cp -i /usr/men m*.c /usr/zh # 交互式地将目录 /usr/men 中的以 m 打头的所有 .c 文件复制到目录 /usr/zh 中
```

## mv 指令

用来对文件或目录重新命名，或者将文件从一个目录移到另一个目录中。如果将一个文件移到一个已经存在的目标文件中，则目标文件的内容将被覆盖。

**语法**
```shell
mv (选项) (参数)
```
![mv 指令](/blogs/images/linux/mv.png)

**参数说明**
- b: 当文件存在时，覆盖前，为其创建一个备份。
- f: 若目标文件或目录与现有的文件或目录重复，则直接覆盖现有的文件或目录。
- i: 交互式操作，覆盖前先行询问用户，如果源文件与目标文件或目标目录中的文件同名，则询问用户是否覆盖目标文件。用户输入”y”，表示将覆盖目标文件；输入”n”，表示取消对源文件的移动。这样可以避免误将文件覆盖。
- u: 当源文件比目标文件新或者目标文件不存在时，才执行移动操作。

**使用示例**
```shell
mv ex3 new1 # 将文件 ex3 改名为 new1

mv /usr/men/* . # 将目录 /usr/men 中的所有文件移到当前目录
```

## rm 指令

删除一个目录中的一个或多个文件或目录，也可以将某个目录及其下属的所有文件及其子目录均删除掉。(慎用，文件被删除后不可恢复。)

**语法**
```shell
rm (选项) (参数)
```
![rm 指令](/blogs/images/linux/rm.png)

**参数说明**
- i 删除前逐一询问确认。
- f 即使原档案属性设为唯读，亦直接删除，无需逐一确认。
- r 将目录及以下之档案亦逐一删除。

## 输出重定向

一般命令的输出都会显示在终端中，有些时候需要将一些命令的执行结果保存到文件中。这时候就需要输出重定向了。

- `>` 覆盖输出，会覆盖掉原先的文件内容。
- `>>` 追加输出，不会覆盖原始文件，会在原始文件末尾继续追加。

**语法**
```shell
ls > ls.log # 覆盖输出，会覆盖掉原先的文件内容。
ls >> ls.log # 追加输出，不会覆盖原始文件，会在原始文件末尾继续追加。
```
![> 指令](/blogs/images/linux/输出重定向-覆盖.png)
![>> 指令](/blogs/images/linux/输出重定向-追加.png)

## cat 指令

用于连接文件并打印到标准输出设备上。

**语法**
```shell
cat [-AbeEnstTuv] [--help] [--version] fileName
```
![cat 指令](/blogs/images/linux/cat.png)

**参数说明**
- n 或 --number：由 1 开始对所有输出的行数编号。
- b 或 --number-nonblank：和 -n 相似，只不过对于空白行不编号。
- s 或 --squeeze-blank：当遇到有连续两行以上的空白行，就代换为一行的空白行。
- v 或 --show-nonprinting：使用 ^ 和 M- 符号，除了 LFD 和 TAB 之外。
- E 或 --show-ends : 在每行结束处显示 $。
- T 或 --show-tabs: 将 TAB 字符显示为 ^I。
- A, --show-all：等价于 -vET。
- e：等价于"-vE"选项。
- t：等价于"-vT"选项。

**使用示例**
```shell
cat ls.log # 将文件 ls.log 的内容打印在控制台

cat file1 file2 > file3 . # 将 file1 的内容与 file2 的内容进行合并，并输出到 file3 里。
```